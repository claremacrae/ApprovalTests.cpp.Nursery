<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /doc/mdsource/Additions.source.md
To change this file edit the source file and then execute ./run_markdown_templates.sh.
-->

<a id="top"></a>

# Additions - to be moved to AppovalTests.cpp

<!-- toc -->
## Contents

  * [Approving multiple files from one test](#approving-multiple-files-from-one-test)
<!-- endtoc -->


## Approving multiple files from one test 

ApprovalTests uses the name of the current test to determine the names of output files that it writes. This means that it is by default only convenient to verify one thing per test case.

Sometimes it is useful to be able to verify multiple files in one test case, such as if the setup is slow, or the code being tested creates more than output file.

This can be done with Catch2's `SECTION` and doctest's `SUBCASE`. However, there is no supported way to do this with Google Tests, and it may be desirable to use an approach that Approval Tests can use with all test frameworks it supports.

The function `addAdditionalApprovalTestInformation()` adds an extra piece of text to be added to the filename used for output files.

Example of use:

<!-- snippet: verify_multiple_files -->
<a id='snippet-verify_multiple_files'/></a>
```cpp
// ... code inside a test case
{
    auto section_namer = addAdditionalApprovalTestInformation("case1");
    Approvals::verify("Some state to be verified .case1 will be in the filename");
    // Approved file will be 'path_to_test_file/FileName.TestName.case1.approved.txt'
}
{
    auto section_namer = addAdditionalApprovalTestInformation("case2");
    Approvals::verify("Some different state to be verified");
    // Approved file will be 'path_to_test_file/FileName.TestName.case2.approved.txt'
}
```
<sup>[snippet source](/ApprovalTestsNursery_Catch2_Tests/ExtendApprovalTestNameTests.cpp#L7-L19) / [anchor](#snippet-verify_multiple_files)</sup>
<!-- endsnippet -->

---

[Back to User Guide](/doc/README.md#top)
